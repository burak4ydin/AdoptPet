@using Microsoft.Extensions.Localization
@using System.Net
@using System.Web
@using Microsoft.AspNetCore.Mvc.TagHelpers


@{
    var dil = System.Threading.Thread.CurrentThread.CurrentCulture;
}
@functions
{
    public String Translate(String word)
    {
        var dil = System.Threading.Thread.CurrentThread.CurrentCulture;
        var toLanguage = dil.ToString().Split("-")[0].Trim(); //English
        var fromLanguage = "tr";//Deutsch
        var url = $"https://translate.googleapis.com/translate_a/single?client=gtx&sl={fromLanguage}&tl={toLanguage}&dt=t&q={HttpUtility.UrlEncode(word)}";
        var webClient = new WebClient
        {
            Encoding = System.Text.Encoding.UTF8
        };
        var result = webClient.DownloadString(url);
        try
        {
            result = result.Substring(4, result.IndexOf("\"", 4, StringComparison.Ordinal) - 4);
            return result;
        }
        catch
        {
            return "Error";
        }
    }
}



 @inject LanguageService language; 

@{
        ViewData["Title"] = "Home Page";

        ViewData["Active"] = "Home";

        IEnumerable<Category> categories = ViewData["Categories"] as IEnumerable<Category>;
        IEnumerable<Pet> pets = ViewData["Pets"] as IEnumerable<Pet>;
    IEnumerable<User> users = ViewData["Users"] as IEnumerable<User>;
   

}



<head>
  
  @* <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> *@
  
</head>

<section class="slider-holder">
    @* <ul> *@
    @*     <li><a asp-controller="Home" asp-action="ChangeLanguage" asp-route-culture="tr-TR">Türkçe</a></li> *@
    @*     <li><a asp-controller="Home" asp-action="ChangeLanguage" asp-route-culture="en-US">İngilizce</a></li> *@
    @*     <h1>@language.Getkey("hello")</h1> *@
    @*      *@
    @* </ul> *@
    @* <h1>@Accessor.HttpContext.Session.GetString("Name")</h1> *@
    <div class="container" style="margin-left: -15px ">

        <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <!-- Wrapper for slides -->
            <div class="carousel-inner">
                <div class="item active">
                    <img src="images/samples/slide1.jpg" alt="Los Angeles">
                </div>

                <div class="item">
                    <img src="images/samples/slide2.jpg" alt="Chicago">
                </div>

                <div class="item">
                    <img src="images/samples/slide3.jpg" alt="New York">
                </div>
            </div>

            <!-- Left and right controls -->
            @* <a class="left carousel-control" href="#myCarousel" data-slide="prev"> *@
            @*   <i class="glyphicon glyphicon-chevron-left"></i> *@
            @*   <span class="sr-only">Previous</span> *@
            @* </a> *@
            @* <a class="right carousel-control" href="#myCarousel" data-slide="next"> *@
            @*     <span class="glyphicon glyphicon-chevron-right"></span> *@
            @*     <span class="sr-only">Next</span> *@
            @* </a> *@
            <div class="search-box">
                <h2>@language.Getkey("findmate")</h2>
                <form asp-controller="Adopt" asp-action="Index" method="POST" role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" name="keyword" placeholder="@language.Getkey("keyword")">
                    </div>

                    <div class="form-group">
                        <div class="select-style">
                            <select name="catId" class="form-control">
                                <option value=99999 disabled selected>@language.Getkey("choosecategory")</option>
                                @foreach (var i in categories)
                                {
                                    <option value="@i.id">@Translate(i.catName) </option>
                                }
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-success">@language.Getkey("search")</button>
                </form>
            </div>
        </div>
        @* <div class="flexslider"> *@
        @*     <ul class="slides"> *@
        @*         <li> *@
        @*             <img src="images/samples/slide1.jpg" alt=""> *@
        @*         </li> *@
        @*         <li> *@
        @*             <img src="images/samples/slide2.jpg" alt=""> *@
        @*         </li> *@
        @*         <li> *@
        @*             <img src="images/samples/slide3.jpg" alt=""> *@
        @*         </li> *@
        @*     </ul> *@
        @* *@
        @*     				<div class="search-box"> *@
        @*     					<h2>Uygun Dostu Bul</h2> *@
        @*     					<form action="#" method="POST" role="form"> *@
        @*     						<div class="form-group"> *@
        @*     							<input type="text" class="form-control"  placeholder="Anahtar Kelime"> *@
        @*     						</div> *@
        @*     						<div class="form-group"> *@
        @*     							<input type="text" class="form-control" placeholder="Any Location"> *@
        @*     						</div> *@
        @*     						<div class="form-group"> *@
        @*     							<div class="select-style"> *@
        @*     								<select class="form-control"> *@
        @*     									<option>Service Type</option> *@
        @*     									<option>Pet Sitter</option> *@
        @*     									<option>Dog Sitter</option> *@
        @*     									<option>Cat Sitter</option> *@
        @*     								</select> *@
        @*     							</div> *@
        @*     						</div> *@
        @*     						<button type="submit" class="btn btn-success">Search</button> *@
        @*     					</form> *@
        @*     				</div> *@
        @* </div> *@
    </div>
</section>
<!-- Slider / End -->
<!-- Page Content -->
<section class="page-content">
    <div class="container">

        <!-- Light Section -->
        <section class="section-light section-nomargin">
            <div class="row">
                <div class="col-md-8">
                    <h2 class="with-subtitle" data-animation="fadeInUp" data-animation-delay="0">@language.Getkey("popular") <small data-animation="fadeInUp" data-animation-delay="100">@language.Getkey("mostLiked")</small></h2>
                    <div class="row">

                        @{
                            foreach (var i in pets)
                            {

                                DateTime a = DateTime.Now;
                                DateTime b = i.createdAt;

                                var son = (a - b).TotalDays;

                                <div class="col-xs-6 col-sm-3 col-md-3" data-animation="fadeInLeft" data-animation-delay="0">
                                    <div class="job-listing-box">
                                        <figure class="job-listing-img">
                                            <a asp-controller="Adopt" asp-action="Info" asp-route-id="@i.id"><img style="width:150px;height:150px;object-fit:cover" src="@i.photoLink" alt=""></a>
                                        </figure>
                                        <div class="job-listing-body">
                                            <h4 class="name"><a asp-controller="Adopt" asp-action="Info" asp-route-id="@i.id">@i.name</a></h4>
                                            <p>@i.description</p>
                                        </div>
                                        <footer class="job-listing-footer">
                                            <ul class="meta">
                                                <li class="category">@Translate(categories.FirstOrDefault(u => u.id == i.catId).catName)</li>
                                                <li class="location"><a href="#">@i.province</a></li>
                                                <li class="date">@users.FirstOrDefault(u => u.id == i.userId).name </li>
                                            </ul>
                                        </footer>
                                    </div>
                                </div>
                                
                                
                            }
                        }
                    </div>
                </div>
                <div class="col-md-4" data-animation="fadeInRight" data-animation-delay="0">
                    <div class="spacer-lg visible-sm visible-xs"></div>
                    <h2>@language.Getkey("sponsored")</h2>
                    <!-- Featured Listings -->
                    <div class="owl-carousel owl-theme owl-featured-listings">
                        @foreach (var i in pets)
                        {
                            <div class="job-listing-box featured">
                                <figure class="job-listing-img">
                                    <a asp-controller="Adopt" asp-action="Info" asp-route-id="@i.id"><img style="width:400px;height:400px;object-fit:cover" src="@i.photoLink" alt=""></a>
                                </figure>
                                <div class="job-listing-holder">
                                    <div class="job-listing-body">
                                        <h4 class="name"><a asp-controller="Adopt" asp-action="Info" asp-route-id="@i.id">@i.name</a></h4>
                                        <p>@i.description</p>
                                    </div>
                                    <footer class="job-listing-footer">
                                        <ul class="meta">
                                            <li class="category">@Translate(categories.FirstOrDefault(u => u.id == i.catId).catName)</li>
                                            <li class="location"><a href="#">@i.province</a></li>
                                            <li class="date">@users.FirstOrDefault(u => u.id == i.userId).name</li>
                                        </ul>
                                    </footer>
                                </div>
                            </div>
                        }
                        
                    </div>
                    <!-- Featured Listings / End -->

                </div>
            </div>
        </section>
        <!-- Light Section / End -->
        <!-- Section -->
        <section class="section section-nomargin">
            <div class="row">
                <div class="col-md-6" data-animation="fadeInLeft" data-animation-delay="0">
                    <div class="img-box">
                        <img src="images/samples/img1.png" alt="">
                    </div>
                </div>
                <div class="col-md-6">
                    <h2>@language.Getkey("adoptPet")</h2>
                    <div class="icon-box circled icon-box-animated" data-animation="fadeInLeft" data-animation-delay="0">
                        <div class="icon">
                            <i class="entypo search"></i>
                        </div>
                        <div class="icon-box-body">
                            <h4>@language.Getkey("signup") / @language.Getkey("signin")</h4>
                            @language.Getkey("signDescription")
                        </div>
                    </div>

                    <div class="icon-box circled icon-box-animated" data-animation="fadeInLeft" data-animation-delay="200">
                        <div class="icon">
                            <i class="entypo vcard"></i>
                        </div>
                        <div class="icon-box-body">
                            <h4>@language.Getkey("fillInfo")</h4>
                            @language.Getkey("fillDescription")
                        </div>
                    </div>

                    <div class="icon-box circled icon-box-animated" data-animation="fadeInLeft" data-animation-delay="400">
                        <div class="icon">
                            <i class="entypo check"></i>
                        </div>
                        <div class="icon-box-body">
                            <h4>@language.Getkey("success")</h4>
                            <p>@language.Getkey("successinfo") </p>
                        </div>
                    </div>

                    <a asp-controller="Pet" asp-action="Index" class="btn btn-primary">@language.Getkey("addlisting") <i class="fa fa-arrow-circle-o-right fa-lg fa-right"></i></a>

                </div>
            </div>

            <!--						<hr class="lg">-->
            <!--						<div class="row">-->
            <!--							<div class="col-md-6 col-md-push-6" data-animation="fadeInRight" data-animation-delay="0">-->
            <!--								<div class="img-box">-->
            <!--									<img src="images/samples/img2.png" alt="">-->
            <!--								</div>-->
            <!--							</div>-->
            <!--							<div class="col-md-6 col-md-pull-6">-->
            <!--								<h2>For Pet Sitters</h2>-->
            <!--								<div class="icon-box circled icon-box-animated" data-animation="fadeInRight" data-animation-delay="0">-->
            <!--									<div class="icon">-->
            <!--										<i class="entypo pencil"></i>-->
            <!--									</div>-->
            <!--									<div class="icon-box-body">-->
            <!--										<h4>Create a Free Profile</h4>-->
            <!--										Proin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor, nisi elit consequat ipsum.-->
            <!--									</div>-->
            <!--								</div>-->
            <!--								<div class="icon-box circled icon-box-animated" data-animation="fadeInRight" data-animation-delay="200">-->
            <!--									<div class="icon">-->
            <!--										<i class="entypo calendar"></i>-->
            <!--									</div>-->
            <!--									<div class="icon-box-body">-->
            <!--										<h4>Set Your Schedule</h4>-->
            <!--										Proin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor, nisi elit consequat ipsum.-->
            <!--									</div>-->
            <!--								</div>-->
            <!--								<div class="icon-box circled icon-box-animated" data-animation="fadeInRight" data-animation-delay="400">-->
            <!--									<div class="icon">-->
            <!--										<i class="entypo star"></i>-->
            <!--									</div>-->
            <!--									<div class="icon-box-body">-->
            <!--										<h4>Become a Star</h4>-->
            <!--										<p>Proin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor, nisi elit consequat ipsum.</p>-->
            <!--									</div>-->
            <!--								</div>-->
            <!--								<a href="job-post-profile.html" class="btn btn-primary">Start Here <i class="fa fa-arrow-circle-o-right fa-lg fa-right"></i></a>-->
            <!--							</div>-->
            <!--						</div>-->

        </section>
        <!-- Section / End -->
        <!-- Light Section -->
        <section class="section-light section-nomargin">
            <div class="title-bordered" data-animation="fadeInUp" data-animation-delay="0">
                <h2>@language.Getkey("whywe") <small>Adopt Pet INC</small></h2>
            </div>
            <div class="row">
                <div class="col-md-3" data-animation="fadeInDown" data-animation-delay="0">
                    <div class="icon-box filled centered lg circled icon-box-animated-inverse">
                        <div class="icon">
                            <i class="entypo chat"></i>
                        </div>
                        <div class="icon-box-body">
                            <h3>@language.Getkey("fastContact")</h3>
                            <p>@language.Getkey("fastContactDescription")</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3" data-animation="fadeInDown" data-animation-delay="200">
                    <div class="icon-box filled centered lg circled icon-box-animated-inverse">
                        <div class="icon">
                            <i class="entypo heart"></i>
                        </div>
                        <div class="icon-box-body">
                            <h3>@language.Getkey("easytouse")</h3>
                            <p>@language.Getkey("easytouseDescription")</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3" data-animation="fadeInDown" data-animation-delay="400">
                    <div class="icon-box filled centered lg circled icon-box-animated-inverse">
                        <div class="icon">
                            <i class="entypo light-bulb"></i>
                        </div>
                        <div class="icon-box-body">
                            <h3>@language.Getkey("dailyInfo")</h3>
                            <p>@language.Getkey("dailyDescription")</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="icon-box filled centered lg circled icon-box-animated-inverse" data-animation="fadeInDown" data-animation-delay="600">
                        <div class="icon">
                            <i class="entypo thumbs-up"></i>
                        </div>
                        <div class="icon-box-body">
                            <h3>@language.Getkey("pleasure")</h3>
                            <p>@language.Getkey("pleasureDescription")</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Light Section / End -->
        <!-- Section -->
        <section class="section section-nomargin">
            <div class="title-bordered" data-animation="fadeInUp" data-animation-delay="0">
                <h2>@language.Getkey("whatsaidcustomers") <small>@language.Getkey("lastcomments")</small></h2>
            </div>
            <div class="row">
                <div class="col-md-6" data-animation="fadeInLeft" data-animation-delay="0">
                    <div class="testimonial">
                        <blockquote>
                            <p>@language.Getkey("firstComment")</p>
                        </blockquote>
                        <div class="bq-author">
                            <figure class="author-img">
                                <img src="images/samples/testi-img1.png" alt="">
                            </figure>
                            <h6>Hasan Akıncı</h6>
                            <span class="bq-author-info">@language.Getkey("petlover")</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6" data-animation="fadeInRight" data-animation-delay="0">
                    <div class="spacer-lg visible-sm visible-xs"></div>
                    <div class="testimonial">
                        <blockquote>
                            <p>@language.Getkey("secondComment") </p>
                        </blockquote>
                        <div class="bq-author">
                            <figure class="author-img">
                                <img src="images/samples/testi-img2.png" alt="">
                            </figure>
                            <h6>Sena Türkoğlu</h6>
                            <span class="bq-author-info">@language.Getkey("investor"), @language.Getkey("petlover")</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Section / End -->

    </div>
</section>

<script>
$(document).ready(function() {
  $('.flexslider').flexslider({
    animation: "slide"
  });
});
</script>


